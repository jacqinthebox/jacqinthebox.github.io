<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Weblog van Jacqueline P.]]></title>
  <link href="http://jacqinthebox.github.io/atom.xml" rel="self"/>
  <link href="http://jacqinthebox.github.io/"/>
  <updated>2015-11-15T16:03:15+01:00</updated>
  <id>http://jacqinthebox.github.io/</id>
  <author>
    <name><![CDATA[Jacqueline]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Vagrant tips for Windows]]></title>
    <link href="http://jacqinthebox.github.io/blog/2015/11/13/vagrant-tips-for-windows-users/"/>
    <updated>2015-11-13T11:01:00+01:00</updated>
    <id>http://jacqinthebox.github.io/blog/2015/11/13/vagrant-tips-for-windows-users</id>
    <content type="html"><![CDATA[<p>Here are some tips to improve the day-to-day Vagrant tasks on a Windows machine.</p>

<ul>
<li>Saving diskspace</li>
<li>Using a better terminal</li>
<li>Using a better text editor</li>
</ul>


<h2>Moving the Vagrant home folder to another disk</h2>

<p>Vagrant puts its boxes by default in your home directory (~/.vagrant.d). But it can fill up diskspace really quickly. Especially if you are creating Windows VM&#8217;s. So what you want to do is edit the VAGRANT_HOME variable and give it a value which suits your needs (to a cheaper or bigger disk). Here&#8217;s the Powershell command:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='powershell'><span class='line'><span class="no">[Environment]</span><span class="err">::</span><span class="n">SetEnvironmentVariable</span><span class="p">(</span><span class="s2">&quot;VAGRANT_HOME&quot;</span><span class="p">,</span> <span class="s2">&quot;D:\vagrant_home&quot;</span><span class="p">,</span> <span class="s2">&quot;User&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Using Cmder as an alternative terminal</h2>

<p>OK. Microsoft is trying but they will never succeed to overrule the power of a Linux terminal and commandline. But with <a href="http://cmder.net/">Cmder</a> you can simulate the Linux experience rather decently. And if you decide to use the slightly bigger msysgit version of Cmder, you will have all Unix commands ready in PATH so that you can git init or cat instantly on every machine. Yay!
<img src="http://cmder.net/img/git_thumb.png" alt="git" /></p>

<h2>Using Sublime to edit the Vagrantfile</h2>

<p>I love <a href="http://www.sublimetext.com/">Sublime</a> as a text editor. Install it with Chocolatey and then add subl.exe command to your path. Here&#8217;s (again) a way to do that with Powershell:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='powershell'><span class='line'><span class="no">[Environment]</span><span class="err">::</span><span class="n">SetEnvironmentVariable</span><span class="p">(</span><span class="s2">&quot;Path&quot;</span><span class="p">,</span> <span class="nv">$env:Path</span> <span class="p">+</span> <span class="s2">&quot;;%ProgramFiles%\Sublime Text 3&quot;</span><span class="p">,</span> <span class="no">[System.EnvironmentVariableTarget]</span><span class="err">::</span><span class="n">Machine</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now you can go to Cmder, cd to you vagrant machine folder and type:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>subl Vagrantfile
</span></code></pre></td></tr></table></div></figure>


<p>Now you can work from the terminal with Sublime instead of juggling with Notepad instances.</p>

<h2>Add Powershell syntax colors to Sublime text</h2>

<p>In Sublime Text:</p>

<ul>
<li>Press Ctrl + Shift + P</li>
<li>Select &#8216;Install Package&#8217;</li>
<li>Select &#8216;PowerShell&#8217;</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Debian Sid on the bare metal (Thinkpad X250)]]></title>
    <link href="http://jacqinthebox.github.io/blog/2015/10/03/debian-testing-on-the-bare-metal/"/>
    <updated>2015-10-03T07:29:00+02:00</updated>
    <id>http://jacqinthebox.github.io/blog/2015/10/03/debian-testing-on-the-bare-metal</id>
    <content type="html"><![CDATA[<p>Let&#8217;s install Gnome 3.16 (since 3.18 is not yet in the repo&#8217;s) on the latest Debian and see if we can get productive with programming and labs (Javascript development and Vagrant).</p>

<h2>Download the netinst iso and burn it</h2>

<p>The Debian installer iso&#8217;s typically do not include all drivers needed, which is a pain if you need to get an Intel nic working like me on my Thinkpad X250. Luckily, you can download iso&#8217;s which contain the non-free firmware. So if you are not morally against the act of utilizing non-free software this is the easiest way to go.</p>

<p>Download the non-free testing netinst iso from <a href="http://cdimage.debian.org/cdimage/unofficial/non-free/cd-including-firmware/weekly-builds/amd64/iso-cd/">here</a>.
Burn it to USB since we are going the bare metal way.
If you are on a Mac or on Linux the easiest way is by issuing a &#8216;dd&#8217; command. First check with &#8216;fidsk -l&#8217; which pointer the USB device has on your system. In my case it is &#8216;sdd&#8217;.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>sudo dd if=firmware-testing-amd64-netinst.iso of=/dev/sdd
</span></code></pre></td></tr></table></div></figure>


<h2>Boot it and install</h2>

<p>I still needed to add some extra firmware for my Intel wireless chips. I downloaded them from <a href="https://wireless.wiki.kernel.org/en/users/drivers/iwlwifi">kernel.org</a>, extracted the files on a USB and inserted it in the laptop. The install process continued and bite me. I&#8217;m already working on my new Debian system with Gnome 3.16.</p>

<p><img src="http://jacqinthebox.github.io/images/2015103-hostname.png" alt="hostname" /></p>

<p>Since Gnome 3.16 is already eye candy litte adjustments are needed.</p>

<p><img src="http://jacqinthebox.github.io/images/2015103-gnome-debian.png" alt="version" /></p>

<h2>Install the basics</h2>

<p>This is my usual first round of commands after a new install:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>su
</span><span class='line'>apt-get update
</span><span class='line'>apt-get upgrade
</span><span class='line'>apt-get install vim visudo git gitk linux-headers-$(uname -r) chromium gdebi wget curl build-essential</span></code></pre></td></tr></table></div></figure>


<p>After that I can add myself to the sudoers with visudo:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>su
</span><span class='line'>visudo</span></code></pre></td></tr></table></div></figure>


<p><img src="http://jacqinthebox.github.io/images/2015103-visudo.png" alt="visudo" /></p>

<p>So now the base is ready. In the next post I will add more details about the development tools I use.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[The Pipeline]]></title>
    <link href="http://jacqinthebox.github.io/blog/2015/07/27/foreach-and-quotes/"/>
    <updated>2015-07-27T19:36:00+02:00</updated>
    <id>http://jacqinthebox.github.io/blog/2015/07/27/foreach-and-quotes</id>
    <content type="html"><![CDATA[<p>Yesterday we ended with a developerish Powershell script:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$pst = Get-ChildItem -Path 'c:\' -Include '*.pst' -Recurse -ErrorAction SilentlyContinue
</span><span class='line'>
</span><span class='line'>foreach ($f in $pst) {
</span><span class='line'>        $name = $env:USERNAME + '-' + $f.Name
</span><span class='line'>        Copy-Item $f.FullName -Destination "C:\temp\pst-share1\$name"
</span><span class='line'>    }
</span></code></pre></td></tr></table></div></figure>


<p>It loops over all objects in the $pst array. Foreach item in the $pst array, it generates a new file name and the item is copied to another folder with the new file name.</p>

<p>There is another way to accomplish just this, by using the pipeline and instead of foreach, we will be using Foreach-Object.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> $pst | ForEach-Object { 
</span><span class='line'>        $name = $env:USERNAME + '-' + $_.Name
</span><span class='line'>        Copy-Item $_.FullName -Destination "C:\temp\pst-share2\$name"
</span><span class='line'>   }</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>Each method will yield the same result.
Foreach-Object is a bit slower though, and has the &#8216;$_.&#8217; notation which is typically Powershell. I prefer the first method because it feels more natural to me. But it does not mean I will not use the pipeline.</p>

<h3>What about the pipeline?</h3>

<p><strong>In Powershell you can pass an array of objects as input to another function (cmdlet)</strong>. This is really cool. With DOS, Vbscript and other scripting languages, there are only 3 types of interfaces:</p>

<ul>
<li>STDIN</li>
<li>STDOUT</li>
<li>STDERR</li>
</ul>


<p>..which accept a textstream as input and as output. Powershell accepts objects as input and output. Using objects as input and executing stages within the PowerShell runtime eliminates the need to serialize data structures, or to extract them by explicitly parsing text output.</p>

<p>These objects expose a set of properties and methods so you can do cool stuff with it. Most of the time, we also want to treat a collection of objects like a database table and query it. For this purpose, there are functions like</p>

<ul>
<li>foreach-object</li>
<li>compare-object</li>
<li>where-object</li>
<li>select-object</li>
<li>sort-object</li>
</ul>


<p>So I can create an array of file system objects like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Get-Childitem $env.homepath\dropbox -Recurse</span></code></pre></td></tr></table></div></figure>


<p>Or</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$env.homepath\dropbox | get-ChildItem -Recurse</span></code></pre></td></tr></table></div></figure>


<p>Which will return an array of objects of all my Dropbox data. Suppose I want to filter the .docx files and copy them all to c:\temp:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Get-ChildItem $env:HOMEPATH\Dropbox -Recurse | Where-Object { $_.Name -like "*.docx*" } | Copy-Item -Destination c:\temp
</span></code></pre></td></tr></table></div></figure>


<p>Of course, you can make all kinds of smart collections, e.g. only copy the docs which have a LastAccessTime before 2008 or so (remember, you can query all properties and methods with get-member).</p>

<p>So this article should explain the Powershell pipeline and why it is cool. Next, let&#8217;s learn about the objects and how you can create custom ones for your system reports.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Powershell without Google]]></title>
    <link href="http://jacqinthebox.github.io/blog/2015/07/23/powershell-without-google/"/>
    <updated>2015-07-23T21:06:00+02:00</updated>
    <id>http://jacqinthebox.github.io/blog/2015/07/23/powershell-without-google</id>
    <content type="html"><![CDATA[<p>At work I find myself using Powershell a lot. Here are a few tips to use Powershell without Googling all the time.</p>

<p>Suppose you want to check if there are any PST&#8217;s on a harddrive and let&#8217;s pretend you know nothing, just like <a href="https://www.youtube.com/watch?v=d44LyYL3GkY">Jon Snow</a>.</p>

<h3>Find out what cmdlets are available with Get-Command</h3>

<p>Obviously we need to recurse directories to see if there are any files with a .pst extension. So let&#8217;s see if there&#8217;s a <a href="https://msdn.microsoft.com/en-us/library/ms714395(v=vs.85">cmdlet</a>.aspx) with &#8216;dir&#8217; in it.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PS C:\Users\Jacqueline&gt; get-command '*dir*'
</span><span class='line'>
</span><span class='line'>CommandType     Name                                               Version    Source
</span><span class='line'>-----------     ----                                               -------    ------
</span><span class='line'>Alias           chdir -&gt; Set-Location
</span><span class='line'>Alias           dir -&gt; Get-ChildItem
</span><span class='line'>Alias           rmdir -&gt; Remove-Item
</span></code></pre></td></tr></table></div></figure>


<p>Get-ChildItem looks like the cmdlet we need. Let&#8217;s see how it works with the help files.</p>

<h3>Get the help files</h3>

<p>The problem with command line interfaces: you can&#8217;t &#8216;guess&#8217; which command to use and what the parameters are. So you will need to read the help files.
Unfortunately, the help files are in c:\windows\system32, so you need to run the command as an Administrator.</p>

<p>You can only update-help once a day unless you use the -Force parameter.</p>

<p>So open a console as an Admin and run:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PS C:\&gt; update-help -UICulture en-US -force</span></code></pre></td></tr></table></div></figure>


<p>Needless to say an Internet connection is required. What if you don&#8217;t have one?</p>

<h4>Saving help to an alternate location</h4>

<p>In that case you can save the help files on an alternate location or on a netwerk share and then update-help.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PS C:\&gt; save-help -DestinationPath C:\powershell\help2 -force -UICulture en-US
</span></code></pre></td></tr></table></div></figure>


<p>and then (as an Administrator):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PS C:\&gt; Update-Help -SourcePath C:\powershell\help2\ -force -UICulture en-US</span></code></pre></td></tr></table></div></figure>


<p>Now you can use the help files.</p>

<h4>Using the help</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PS C:\&gt; Help Get-ChildItem</span></code></pre></td></tr></table></div></figure>


<p>Will display all there is to know about Get-Childitem. Like parameters and what kind of parameters it accepts (string, arrays and so on). If you scroll down the help you get to see the remarks:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>REMARKS
</span><span class='line'>    To see the examples, type: "get-help Get-ChildItem -examples".
</span><span class='line'>    For more information, type: "get-help Get-ChildItem -detailed".
</span><span class='line'>    For technical information, type: "get-help Get-ChildItem -full".
</span><span class='line'>    For online help, type: "get-help Get-ChildItem -online"</span></code></pre></td></tr></table></div></figure>


<p>The -examples are very convenient if you want to have a quick solution.</p>

<p>So now we can play a bit with Get-ChildItem. Let&#8217;s discover its syntax:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>SYNTAX
</span><span class='line'>    Get-ChildItem [[-Path] &lt;String[]&gt;] [[-Filter] &lt;String&gt;] [-Exclude &lt;String[]&gt;] [-Force] [-Include &lt;String[]&gt;] [-Name] [-Recurse] [-UseTransaction
</span><span class='line'>    [&lt;SwitchParameter&gt;]] [&lt;CommonParameters&gt;]
</span><span class='line'>
</span><span class='line'>    Get-ChildItem [[-Filter] &lt;String&gt;] [-Exclude &lt;String[]&gt;] [-Force] [-Include &lt;String[]&gt;] [-Name] [-Recurse] -LiteralPath &lt;String[]&gt; [-UseTransacti
</span><span class='line'>    on [&lt;SwitchParameter&gt;]] [&lt;CommonParameters&gt;]
</span><span class='line'>
</span><span class='line'>    Get-ChildItem [-Attributes &lt;FileAttributes]&gt;] [-Directory] [-File] [-Force] [-Hidden] [-ReadOnly] [-System] [-UseTransaction] [&lt;CommonParameters&gt;
</span><span class='line'>    ]</span></code></pre></td></tr></table></div></figure>


<p>Here we see it accepts a -Path parameter which is an array because there are brackets: String[]. So we can input multiple search locations by creating an array of locations.</p>

<p>Now type:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>get-help array</span></code></pre></td></tr></table></div></figure>


<p>And you will see you get very valuable information about how to create an array. I could create an array like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$search = @($env:HOMEPATH,"c:\temp")
</span></code></pre></td></tr></table></div></figure>


<p>Notice the quotes around c:\temp because we&#8217;re dealing with strings.
The $env:HOMEPATH is already a variable which returns a string.</p>

<p>We can test the array like follows:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PS C:\Users\Jacqueline&gt; $search = @($env:HOMEPATH\Dropbox,"c:\temp")
</span><span class='line'>PS C:\Users\Jacqueline&gt; $search
</span><span class='line'>\Users\Jacqueline\Dropbox
</span><span class='line'>c:\temp</span></code></pre></td></tr></table></div></figure>


<p>Now we can do a search ilke this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>get-childitem -path $search -Recurse -Include "*.pst" 
</span></code></pre></td></tr></table></div></figure>


<p>I don&#8217;t want to look at all those red error messages, so let&#8217;s suppress them:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>get-childitem -path $search -Recurse -Include "*.pst" -ErrorAction silentlycontinue
</span></code></pre></td></tr></table></div></figure>


<p>And now for real:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PS C:\Temp&gt; get-childitem -path $search -Recurse -Include "*.pst" -ErrorAction SilentlyContinue
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    Directory: C:\Users\Jacqueline\Dropbox\work
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>Mode                LastWriteTime         Length Name
</span><span class='line'>----                -------------         ------ ----
</span><span class='line'>-a----         5-4-2013     18:33      211305472 jacqueline.pst
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    Directory: C:\temp
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>Mode                LastWriteTime         Length Name
</span><span class='line'>----                -------------         ------ ----
</span><span class='line'>-a----        26-7-2015     13:12        5242880 archive.pst
</span><span class='line'>-a----        26-7-2015     13:12        5242880 old.pst
</span></code></pre></td></tr></table></div></figure>


<p>Let&#8217;s put the result in a variable, like so:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$pst = Get-ChildItem -Path "c:\" -Include "*.pst" -Recurse -ErrorAction SilentlyContinue
</span></code></pre></td></tr></table></div></figure>


<h3>Investigating $pst with Get-Member</h3>

<p>Like Get-Command and Get-Help, Get-Member is a really import cmdlet you should know about. With Get-Member we can investigate which properties and methods are available. How can I actually write a script or type a command-line command without having to memorize every object model found on MSDN?</p>

<p>Once you connect to an object you can pipe that object to Get-Member; in turn, Get-Member will enumerate the properties and methods of that object.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>PS C:\Temp&gt; $pst | Get-Member
</span><span class='line'>
</span><span class='line'>   TypeName: System.IO.FileInfo
</span><span class='line'>
</span><span class='line'>Name                      MemberType     Definition
</span><span class='line'>----                      ----------     ----------
</span><span class='line'>Mode                      CodeProperty   System.String Mode{get=Mode;}
</span><span class='line'>AppendText                Method         System.IO.StreamWriter AppendText()
</span><span class='line'>CopyTo                    Method         System.IO.FileInfo CopyTo(string destFileName), System.IO.FileInfo... Create                    Method         System.IO.FileStream Create()
</span><span class='line'>CreateObjRef              Method         System.Runtime.Remoting.ObjRef CreateObjRef(type requestedType)
</span><span class='line'>CreateText                Method         System.IO.StreamWriter CreateText()
</span><span class='line'>Decrypt                   Method         void Decrypt()
</span><span class='line'>Delete                    Method         void Delete()
</span><span class='line'>Encrypt                   Method         void Encrypt()
</span><span class='line'>Equals                    Method         bool Equals(System.Object obj)
</span><span class='line'>
</span><span class='line'>--MORE
</span></code></pre></td></tr></table></div></figure>


<p>Scrolling down the list you will notice a Method GetType. Let&#8217;s run that:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PS C:\Temp&gt; $pst.GetType()
</span><span class='line'>
</span><span class='line'>IsPublic IsSerial Name                                     BaseType
</span><span class='line'>-------- -------- ----                                     --------
</span><span class='line'>True     True     Object[]                                 System.Array
</span></code></pre></td></tr></table></div></figure>


<p>So $pst is an Array (we already knew that..) but what is in the array?</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>PS C:\Temp&gt; $pst | ForEach-Object { write-host $_.GetType()}
</span><span class='line'>System.IO.FileInfo
</span><span class='line'>System.IO.FileInfo
</span><span class='line'>System.IO.FileInfo
</span><span class='line'>System.IO.FileInfo</span></code></pre></td></tr></table></div></figure>


<p>So, we&#8217;ve got an array full of FileInfo objects. Each objects has a set of methods and properties, which we can query by using Get-Member.</p>

<h3>Fun stuff to do with arrays</h3>

<p>Powershell and any other scripting language is all about gathering input, do stuff with this input and generate the output. You can send the objects through the pipeline and sort them and query them.</p>

<p>So let&#8217;s do that with the $pst array.</p>

<ul>
<li>Sort the array alphabetically: <code>$pst | Select-Object name,lastwritetime,fullname | Sort-Object lastwritetime</code></li>
<li>Only show the pst with my name in it: <code>PS C:\Temp&gt; $pst | Where-Object {$_.Name -match "jacq*"}</code></li>
</ul>


<h3>Copying and renaming the PST&#8217;s to another location</h3>

<p>Let&#8217;s copy the PST&#8217;s to another location and rename then so some admin can import the PST into a mailbox.</p>

<p>Just copying is not that hard:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$pst | Copy-Item -Destination C:\Temp\pst-share</span></code></pre></td></tr></table></div></figure>


<p>But if I want to rename the file as well I have to be a bit more &#8216;developerish&#8217;:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>foreach ($f in $pst) {
</span><span class='line'>    $name = $env:USERNAME + "-" + $f.Name
</span><span class='line'>    Copy-Item $f.FullName -Destination "C:\temp\pst-share\$name"
</span><span class='line'>  }</span></code></pre></td></tr></table></div></figure>


<p>Let&#8217;s debate on this script tomorrow.</p>

<!-- ![installer](/images/debian-installer.png "Installer") -->



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[hello again]]></title>
    <link href="http://jacqinthebox.github.io/blog/2014/12/03/hello-again/"/>
    <updated>2014-12-03T23:13:00+01:00</updated>
    <id>http://jacqinthebox.github.io/blog/2014/12/03/hello-again</id>
    <content type="html"><![CDATA[<p>Internet is now mainstream.
Social Media is for the masses.
Living a digital life is the norm.</p>

<p>Windows is not longer the default OS for the people. People use tablets, smartphones and they run Android and iOS.</p>

<p>Coding is easier. It&#8217;s just JavaScript.</p>

<p>Infrastructure is a piece of cake with Docker.</p>

<p>Everything is connected (the Internet of Things).</p>

<p>I think I want to break away from the digital life and grow my own vegetables.</p>

<p><img src="http://www.staticwhich.co.uk/media/images/taster/growing-your-own-veg_300x200-149325.jpg" title="veg" alt="alt text" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[unity is ok]]></title>
    <link href="http://jacqinthebox.github.io/blog/2014/03/13/unity-is-ok/"/>
    <updated>2014-03-13T20:21:00+01:00</updated>
    <id>http://jacqinthebox.github.io/blog/2014/03/13/unity-is-ok</id>
    <content type="html"><![CDATA[<p>During my quest to find the perfect Linux distribution I must admit I came to like Ubuntu. Sorry RMS, but I think Ubuntu is quite OK.</p>

<p>Here&#8217;s why.</p>

<ul>
<li>Easy dual monitor setup</li>
<li>Easy printer and scanner installation</li>
<li>Eyecandy</li>
<li>PPA</li>
<li>Sound works out of the box</li>
<li>Unity is keyboard friendly</li>
<li>You can turn off the &#8216;include online search results in the Dash</li>
</ul>


<p>The Dash by the way makes me very productive. Just hit the superkey and the first character of the application you want to start. This means there&#8217;s no need to configure keyboard shortcuts. Hell, there&#8217;s no need to configure anything at all. It works and the defaults are good. I&#8217;m in productive mode right away.</p>

<p><img src="http://jacqinthebox.github.io/images/test4.gif" title="Dash" alt="alt text" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Debian on the bare metal]]></title>
    <link href="http://jacqinthebox.github.io/blog/2014/01/12/debian-on-the-bare-metal/"/>
    <updated>2014-01-12T09:36:00+01:00</updated>
    <id>http://jacqinthebox.github.io/blog/2014/01/12/debian-on-the-bare-metal</id>
    <content type="html"><![CDATA[<p>Today I took the plunge and installed Debian instead of Windows 8.1 on my main machine. Indeed, on the bare metal.</p>

<p>I first checked if my hardware compatibility. There&#8217;s an awesome (portable) tool called <a href="" title="http://www.hwinfo.com/">HWiNFO</a> you can run and check what hardware is inside your computer. Then you can check if there&#8217;s Linux support. The most important hardware pieces are video cards, networking hardware and audio.</p>

<p>For instance, I happen to own an Intel 4000 HD Graphics adapter. I had to compile and install the drivers.
Lucky for me, the README files were quite good.</p>

<p>Tips for optimizing graphics:</p>

<ul>
<li><p>Install xrandr to enable extended mode on your dual monitor setup</p></li>
<li><p>Install gdm3 (however I&#8217;m not sure if this did the trick that my display suddenly became beautiful.</p></li>
</ul>


<p><img src="http://jacqinthebox.github.io/images/silverslank.png" title="desktop" alt="desktop" /></p>

<p>For Evernote and Spotify are no Linux packages, so I installed them as addins in Chrome. It makes them look like they are native. Suddenly I came to understand the importance of Chromebooks!</p>

<p>Next week I get to order a MacBook Pro (courtesy to my boss). Then Windows has disappeared form all my computers, except the virtual ones I need for work (and Visual Studio).</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[XFCE4 on Debian Netinstall (Jessie) in VMware Workstation]]></title>
    <link href="http://jacqinthebox.github.io/blog/2014/01/09/debian-workstation-from-scratch/"/>
    <updated>2014-01-09T22:29:00+01:00</updated>
    <id>http://jacqinthebox.github.io/blog/2014/01/09/debian-workstation-from-scratch</id>
    <content type="html"><![CDATA[<p>I have to admit that trying out Linux Distributions is one of my guilty pleasures. I enjoy configuring my desktop just the way I want it and to be in full control. Working in the terminal makes me very productive and now that I&#8217;m getting the hang of Vim it&#8217;s totally addictive.
I&#8217;ve tried Vim (and NERDTree) on Windows 8.1 but it&#8217;s just not the same. For instance, if you drop to a shell the dosbox opens whereas I prefer to stay in the same terminal.</p>

<p>I was very impressed by the simplicity of <a href="http://www.crunchbang.org">Crunchbang</a> that I decided to try and create my own Linux distro from scratch. This is what I did.</p>

<p>You can download Debian Jessie <a href="http://cdimage.debian.org/cdimage/daily-builds/daily/arch-latest/i386/iso-cd/">here</a>.</p>

<p>Install Jessie with the options that suit you. It becomes critical at the Software selection part. Make sure you select only the Standard System utilities:</p>

<p><img src="http://jacqinthebox.github.io/images/debian-installer.png" title="Installer" alt="installer" /></p>

<p>Then finish the installation and logon as root.
These are the first apps to install.
Then type: visudo:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$apt</span>-get install sudo vim curl build-essential linux-headers-<span class="k">$(</span>uname -r<span class="k">)</span> sudo
</span><span class='line'>
</span><span class='line'><span class="nv">$visudo</span>
</span></code></pre></td></tr></table></div></figure>


<p>I&#8217;m going to add my personal logon account to the sudoers, like this:</p>

<p><img src="http://jacqinthebox.github.io/images/visudo.png" title="visudo" alt="visudo" /></p>

<p>If you hit &#8216;ctrl-o&#8217; it will ask you to which file to save. Just accept what it suggests and press enter.</p>

<p>It&#8217;s also wise to disable the annoying beep that you get to hear by each and every typo:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>vim /etc/inputrc
</span></code></pre></td></tr></table></div></figure>


<p>Uncomment &#8216;set bell-style none&#8217;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>vim /etc/vim/vimrc
</span></code></pre></td></tr></table></div></figure>


<p>Add &#8216;set vb&#8217;. Also enable syntax here by uncommenting: syntax on.</p>

<p>Now logoff and logon with your user account, because now you can use sudo.</p>

<h3>Enable free and contrib repo&#8217;s and install vmware-tools</h3>

<p>Open /etc/apt/sources.list and change it as follows.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo vim /etc/apt/sources.list
</span><span class='line'>:%s/main/main contrib non-free
</span><span class='line'>
</span><span class='line'><span class="nv">$sudo</span> apt-get update <span class="o">&amp;&amp;</span> apt-get upgrade
</span></code></pre></td></tr></table></div></figure>


<p>Insert the Vmware tools CD and mount it as follows:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo mkdir /mnt/cdrom
</span><span class='line'><span class="nv">$ </span>sudo mount -t iso9660 -o ro /dev/cdrom /mnt/cdrom
</span></code></pre></td></tr></table></div></figure>


<p>Now the Vmware tools are in /mnt/cdrom and you can install them as usual.</p>

<p>Enable fancy dircolors and syntax coloring in vim</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>vim ~/.bashrc <span class="c"># uncomment dircolors</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<h3>Install XFCE</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo apt-get install xorg xfce4 lightdm wicd gdebi
</span><span class='line'><span class="nv">$ </span>sudo apt-get install xfce4-goodies
</span><span class='line'><span class="nv">$ </span>sudo apt-get install git gitk
</span><span class='line'><span class="nv">$ </span>sudo apt-get install gtk2-engines-murrine
</span></code></pre></td></tr></table></div></figure>


<p>You can also combine this to one command.</p>

<p>Restart and login your new XFCE4 desktop.</p>

<h3>Eyecandy</h3>

<p>Go to Settings &#8211;> Appearance and enable anti-aliasing under the font tab:</p>

<p><img src="http://jacqinthebox.github.io/images/appearance.png" title="appaerance" alt="appearance" /></p>

<p>Enable transparent label text background on the desktop:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>vim ~/.gtkrc-2.0
</span></code></pre></td></tr></table></div></figure>


<p>Add the following text:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>style <span class="s2">&quot;xfdesktop-icon-view&quot;</span> <span class="o">{</span>
</span><span class='line'>XfdesktopIconView::label-alpha <span class="o">=</span> 0
</span><span class='line'><span class="o">}</span>
</span><span class='line'>widget_class <span class="s2">&quot;*XfdesktopIconView*&quot;</span> style <span class="s2">&quot;xfdesktop-icon-view&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c"># You can also change the font colors.</span>
</span><span class='line'>
</span><span class='line'>style <span class="s2">&quot;xfdesktop-icon-view&quot;</span> <span class="o">{</span>
</span><span class='line'>XfdesktopIconView::label-alpha <span class="o">=</span> 0
</span><span class='line'>
</span><span class='line'>base<span class="o">[</span>NORMAL<span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;#ffffff&quot;</span>
</span><span class='line'>base<span class="o">[</span>SELECTED<span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;#5D97D1&quot;</span>
</span><span class='line'>base<span class="o">[</span>ACTIVE<span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;#5D97D1&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">fg</span><span class="o">[</span>NORMAL<span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;#ffffff&quot;</span>
</span><span class='line'><span class="nb">fg</span><span class="o">[</span>SELECTED<span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;#ffffff&quot;</span>
</span><span class='line'><span class="nb">fg</span><span class="o">[</span>ACTIVE<span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;#ffffff&quot;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>widget_class <span class="s2">&quot;*XfdesktopIconView*&quot;</span> style <span class="s2">&quot;xfdesktop-icon-view&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Open Settings &#8211;> Window Manager Tweaks &#8211;> Compositor and enable display compositing:</p>

<p><img src="http://jacqinthebox.github.io/images/tweaks.png" title="tweak" alt="tweaks" /></p>

<p>Install a theme. My favorite is <a href="http://shimmerproject.org/project/albatross/" title="">Albatross</a>. Just create a folder ~/.themes and clone the Albatross theme from <a href="https://github.com/shimmerproject/Albatross.git">github</a></p>

<h3>Result</h3>

<p>And then you end up with something like this:</p>

<p><img src="http://jacqinthebox.github.io/images/xfce4-desk.png" title="desk" alt="desk" /></p>

<p>And another Linux desktop is installed.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Nodejs and Mongoose]]></title>
    <link href="http://jacqinthebox.github.io/blog/2013/11/24/nodejs-and-express/"/>
    <updated>2013-11-24T19:18:00+01:00</updated>
    <id>http://jacqinthebox.github.io/blog/2013/11/24/nodejs-and-express</id>
    <content type="html"><![CDATA[<p>Onto the next step on my journey learning Node.</p>

<p>I&#8217;m going to create registration system for informale care volunteers.
Volunteers can sign in and provide all sort of details about themselves. If you are a volunteer and you want to go on vacation or just need some rest, you can browse the directory and find a replacement volounteer.</p>

<p>We basically need an addressbook of volunteers.</p>

<p>The first functional specs are: </br>
* we need a <em>volunteer</em></br>
* the volunteer can have a <em>status</em> like available or unavailable</br>
* the volunteer has all sorts of charecteristics which he or she may edit herself.</br>
* the volunteer should be able to logon and may only chanqe her or his own details.</p>

<p>We also have some technical requirements</br>
* we want to write one language for the whole stack</br>
* the app should be platform indepent, lightweight and open source</br></p>

<p>We can meet the tech reqs by using a webserver running on node.js.
For the database we choose MongoDb and Mongoose for the ORM, because these seem to be the most <a href="https://npmjs.org/browse/star">popular</a>.</p>

<h2>Designing the API</h2>

<p><strong>/volunteers/1234:</strong> </br>
GET: show volunteer 1234 </br>
PUT: if exists updates volunteer 1234 </br>
DELETE: delete volunteer 1234 </br>
POST: will not work</p>

<p><strong>/volunteers:</strong> </br>
GET: read </br>
PUT: bulk update volunteers </br>
DELETE: deletes all volunteers </br>
POST: creates new volunteer </br></p>

<h2>The first tests</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>mkdir iVolunteer
</span><span class='line'><span class="nb">cd </span>iVolunteer
</span><span class='line'>npm install mocha
</span><span class='line'>npm install should
</span><span class='line'>npm install mongoose
</span><span class='line'>
</span><span class='line'>mkdir <span class="nb">test</span>
</span><span class='line'>vim volunteertest.js
</span></code></pre></td></tr></table></div></figure>


<p>I studied the Mongoose and Mocha sites thoroughly to get this. For me it is better to read the documentation from the code maintainer, because then I know I&#8217;m using the right syntax.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">should</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;should&#39;</span><span class="p">);</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">mongoose</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;mongoose&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">Schema</span> <span class="o">=</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">Schema</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">volunteerSchema</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Schema</span><span class="p">({</span>
</span><span class='line'>  <span class="nx">firstname</span><span class="o">:</span>  <span class="nb">String</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">lastname</span><span class="o">:</span> <span class="nb">String</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">Volunteer</span> <span class="o">=</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">model</span><span class="p">(</span><span class="s1">&#39;Volunteer&#39;</span><span class="p">,</span> <span class="nx">volunteerSchema</span><span class="p">);</span>
</span><span class='line'><span class="nx">mongoose</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="s1">&#39;mongodb://localhost:27017/betadb&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Volunteer&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">){</span>
</span><span class='line'>    <span class="c1">//clean the database:</span>
</span><span class='line'>    <span class="nx">Volunteer</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">done</span><span class="p">);</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;#save()&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should save&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="kd">var</span> <span class="nx">volunteer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Volunteer</span><span class="p">({</span><span class="nx">firstname</span><span class="o">:</span> <span class="s1">&#39;Joe&#39;</span> <span class="p">})</span>
</span><span class='line'>        <span class="nx">volunteer</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="k">return</span> <span class="nx">done</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
</span><span class='line'>          <span class="c1">//assert.equal(volunteer.firstname,&#39;Joe&#39;);</span>
</span><span class='line'>          <span class="nx">volunteer</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;firstname&#39;</span><span class="p">,</span><span class="s1">&#39;Joe&#39;</span><span class="p">);</span>
</span><span class='line'>          <span class="nx">done</span><span class="p">();</span>
</span><span class='line'>        <span class="p">});</span>
</span><span class='line'>      <span class="p">});</span>
</span><span class='line'>   <span class="p">});</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[a Node HTTP server]]></title>
    <link href="http://jacqinthebox.github.io/blog/2013/11/22/a-node-http-server/"/>
    <updated>2013-11-22T21:16:00+01:00</updated>
    <id>http://jacqinthebox.github.io/blog/2013/11/22/a-node-http-server</id>
    <content type="html"><![CDATA[<p>Just like c# (which is my first language), you can import libraries with Node. They&#8217;re called modules.
One of these modules is &#8216;http&#8217;. Let&#8217;s see how we can create a http server with this module.</p>

<figure class='code'><figcaption><span>hellopizza.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//the http module has a function: createServer which takes a callback as a parameter:</span>
</span><span class='line'>
</span><span class='line'><span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">request</span><span class="p">,</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>       <span class="nx">response</span><span class="p">.</span><span class="nx">writeHead</span><span class="p">(</span><span class="s1">&#39;200&#39;</span><span class="p">);</span>
</span><span class='line'>       <span class="nx">response</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s2">&quot;one pepperoni pizza please&quot;</span><span class="p">);</span>
</span><span class='line'>       <span class="nx">response</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="p">}).</span><span class="nx">listen</span><span class="p">(</span><span class="mi">8080</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;listening on 8080&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>We can run this with node:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>jacqueline:public<span class="nv">$ </span>node hellopizza.js
</span><span class='line'>listening on 8080
</span></code></pre></td></tr></table></div></figure>


<p>Browse to the page with curl:</p>

<figure class='code'><figcaption><span>curl</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>jacqueline:<span class="nv">$ </span>curl localhost:8080
</span><span class='line'>one pepperoni pizza please
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[fun with Node]]></title>
    <link href="http://jacqinthebox.github.io/blog/2013/11/21/fun-with-node/"/>
    <updated>2013-11-21T22:35:00+01:00</updated>
    <id>http://jacqinthebox.github.io/blog/2013/11/21/fun-with-node</id>
    <content type="html"><![CDATA[<p>Now I&#8217;m starting to have fun with Nodejs.
This is because the excellent tutorials from <a href="http://nodetuts.com/">Node tuts</a> and because WebStorm is awesome.</p>

<p>Here is a first line of javascript:</p>

<figure class='code'><figcaption><span>hello.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;behold, the pizza is in the oven.&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>
Let&#8217;s run it with Node:</p>

<figure class='code'><figcaption><span>node</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>node hello.js
</span><span class='line'>behold, the pizza is in the oven.
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>Why is this even cool?
We just ran javascript without a browser, on a server.</p>

<h3>Blocking vs non-blocking</h3>

<p>This is an example of blocking code:</p>

<figure class='code'><figcaption><span>read_file.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">contents</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;/etc/hosts&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">contents</span><span class="p">);</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Now on to the next function&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>This will run line by line, and all other processes are blocked until its finished.</p>

<p>With Node, we should be writing non blocking code, like this:</p>

<figure class='code'><figcaption><span>read_file.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;/etc/hosts&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span><span class="nx">contents</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">contents</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Now on to the next function&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>The readFileSync accepts two parameters, the file to read and another function: the callback function.
The callback function has 2 parameters, one that contains the error (if there is one) and one that contains the result.</p>

<p>We can also write the function like this:</p>

<figure class='code'><figcaption><span>read_file.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//a callback function returns the result, asynchronuously.</span>
</span><span class='line'><span class="c1">//a callback function always has 2 parameters, first is the error and the second is the result</span>
</span><span class='line'><span class="kd">function</span> <span class="nx">callback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="k">return</span> <span class="nx">handleError</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">results</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//in node, in third party libraries, the last parameter from a function is the callback.</span>
</span><span class='line'><span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;/etc/host&#39;</span><span class="p">,</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//we can read a second file. This would run in parallel, it&#39;s non-blocking!</span>
</span><span class='line'><span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;/etc/vim/vimrc&#39;</span><span class="p">,</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>I think it&#8217;s more readable to add the callback function as a parameter and then we can omit &#8216;callback&#8217; and use an anonymous function:</p>

<figure class='code'><figcaption><span>read_file.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">//the callback function is the last argument</span>
</span><span class='line'><span class="c1">//the callback function always has 2 arguments, error and results.</span>
</span><span class='line'><span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;/etc/hostst&#39;</span><span class="p">,</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="k">return</span> <span class="nx">handleError</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">results</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>
So this is the essence of Nodejs:</p>

<ul>
<li>stop writing threads and other procedural blocking code</li>
<li>start writing asynchronous code</li>
<li>in a third party lib the last parameter is the callback</li>
<li>in a callback function the first parameter is the error, the second parameter is the result.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Installing Node and Webstorm on Debian]]></title>
    <link href="http://jacqinthebox.github.io/blog/2013/11/21/installing-node-on-debian/"/>
    <updated>2013-11-21T10:28:00+01:00</updated>
    <id>http://jacqinthebox.github.io/blog/2013/11/21/installing-node-on-debian</id>
    <content type="html"><![CDATA[<p><a href="https://gist.github.com/isaacs/579814">This</a> is how to install Node on a Linux system:</p>

<figure class='code'><figcaption><span>Install Node</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">echo</span> <span class="s1">&#39;export PATH=$HOME/local/bin:$PATH&#39;</span> &gt;&gt; ~/.bashrc
</span><span class='line'>. ~/.bashrc
</span><span class='line'>mkdir ~/local
</span><span class='line'>mkdir ~/node-latest-install
</span><span class='line'><span class="nb">cd</span> ~/node-latest-install
</span><span class='line'>curl http://nodejs.org/dist/node-latest.tar.gz | tar xz --strip-components<span class="o">=</span>1
</span><span class='line'>./configure --prefix<span class="o">=</span>~/local
</span><span class='line'>make install <span class="c"># ok, fine, this step probably takes more than 30 seconds...</span>
</span><span class='line'>curl https://npmjs.org/install.sh | sh
</span></code></pre></td></tr></table></div></figure>


<p>For Webstorm we need the SunJDK.</p>

<figure class='code'><figcaption><span>Install SunJDK</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#get the JDK</span>
</span><span class='line'><span class="nv">$ </span>wget --no-cookies --header <span class="s2">&quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com&quot;</span> <span class="s2">&quot;http://download.oracle.com/otn-pub/java/jdk/7u45-b18/jdk-7u45-linux-i586.tar.gz&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c">#unpack it</span>
</span><span class='line'><span class="nv">$ </span>sudo tar zxvf jdk-7u45-linux-i586.tar.gz -C /usr/lib/jvm/
</span></code></pre></td></tr></table></div></figure>


<p>Check the current JVM (openJDK):</p>

<figure class='code'><figcaption><span>check JVM</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>update-alternatives --display java
</span><span class='line'>java - auto mode
</span><span class='line'>  link currently points to /usr/lib/jvm/java-6-openjdk-i386/jre/bin/java
</span><span class='line'>/usr/lib/jvm/java-6-openjdk-i386/jre/bin/java - priority 1061
</span><span class='line'>  slave java.1.gz: /usr/lib/jvm/java-6-openjdk-i386/jre/man/man1/java.1.gz
</span><span class='line'>Current <span class="s1">&#39;best&#39;</span> version is <span class="s1">&#39;/usr/lib/jvm/java-6-openjdk-i386/jre/bin/java&#39;</span>.
</span></code></pre></td></tr></table></div></figure>


<p>Check the -priority value. Mine is <strong>1061</strong> as you can see..
This means we need to install the SunJDK with a higher priority, i.c. <strong>1062</strong>.</p>

<p>Run all these commands (make sure the path is right though).</p>

<figure class='code'><figcaption><span>JVM</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># set the priority to 1062!</span>
</span><span class='line'><span class="nv">$ </span>sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/jdk1.7.0_45/bin/java 1062
</span><span class='line'><span class="nv">$ </span>sudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/jdk1.7.0_45/bin/javac 1062
</span><span class='line'><span class="nv">$ </span>sudo update-alternatives --install /usr/bin/javaws javaws /usr/lib/jvm/jdk1.7.0_45/bin/javaws 1062
</span><span class='line'><span class="nv">$ </span>sudo update-alternatives --install /usr/lib/mozilla/plugins/libnpjp2.so libnpjp2.so /usr/lib/jvm/jdk1.7.0_45/jre/lib/i386/libnpjp2.so 1062
</span><span class='line'>
</span><span class='line'><span class="c">#check the java version</span>
</span><span class='line'>/usr/lib/jvm<span class="nv">$ </span>java -version
</span><span class='line'>java version <span class="s2">&quot;1.7.0_45&quot;</span>
</span><span class='line'>Java<span class="o">(</span>TM<span class="o">)</span> SE Runtime Environment <span class="o">(</span>build 1.7.0_45-b18<span class="o">)</span>
</span><span class='line'>Java HotSpot<span class="o">(</span>TM<span class="o">)</span> Client VM <span class="o">(</span>build 24.45-b08, mixed mode<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Install WebStorm</p>

<figure class='code'><figcaption><span>Webstorm</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>wget http://download.jetbrains.com/webstorm/WebStorm-7.0.2.tar.gz
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Basic Auth]]></title>
    <link href="http://jacqinthebox.github.io/blog/2013/11/17/basic-auth/"/>
    <updated>2013-11-17T17:36:00+01:00</updated>
    <id>http://jacqinthebox.github.io/blog/2013/11/17/basic-auth</id>
    <content type="html"><![CDATA[<p>Ik ben al een tijdje bezig met het bouwen van web applicaties met <a href="http://www.angularjs.org">Angularjs</a> en een <a href="http://www.asp.net/web-api/overview/getting-started-with-aspnet-web-api">ASP.NET Web API</a> backend.</p>

<p>Authenticatie is met deze stack bijzonder complex. De <a href="http://www.asp.net/web-api/overview/security/individual-accounts-in-web-api">documentatie</a> vind ik niet erg duidelijk.</p>

<p>Als je deze howto volgt, dan zijn er een paar dingen niet duidelijk. Bijvoorbeeld, waar komt  <strong>http://localhost:port/Token</strong> route vandaan?</p>

<p>Dit komt dus van <a href="http://owin.org/">OWIN</a>.</p>

<p><img src="http://weblogs.asp.net/blogs/pglavich/slide2_4DF24BBA.png" alt="Owin" /></p>

<p>De Web Api Visual Studio templates krijgen zo wel veel weg van een kerstboom.</p>

<p>Ik wacht nog even met token based en ga eens kijken of ik Basic Auth kan toepassen.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[CrunchBang]]></title>
    <link href="http://jacqinthebox.github.io/blog/2013/11/10/crunchbang/"/>
    <updated>2013-11-10T22:04:00+01:00</updated>
    <id>http://jacqinthebox.github.io/blog/2013/11/10/crunchbang</id>
    <content type="html"><![CDATA[<p>I have been using Linux forever. In 2003, I registered at Linux Counter.</p>

<p><img src="https://linuxcounter.net/cert/312740.png" alt="this" />.</p>

<p>I have been using tons of Linux distro&#8217;s. I&#8217;ve started with Caldera, went on to RedHat and used Slackware for a while. After then I sorta stuck to Debian and Ubuntu. And recently I&#8217;ve found <a href="http://crunchbang.org/">CrunchBang</a>.</p>

<p>I think it&#8217;s quite good.</p>

<p><img src="http://jacqinthebox.github.io/images/crunch.png" title="Crunch" alt="crunchbang" /></p>

<h3>Why CrunchBang is cool #!</h3>

<ul>
<li>lots of keyboard shortcuts</li>
<li>terminal here in the file explorer</li>
<li>easy software install fromt OpenBox menu</li>
<li>feels like home: #! is based on Debian Wheezy</li>
</ul>


<p>Here&#8217;s a <a href="http://www.everydaylinuxuser.com/2013/03/everyday-linux-user-review-of.html">review</a>.
I did some minimal tweaks, let&#8217;s describe them below.</p>

<h2>Conky</h2>

<p>To use Conky to display keyboard shortcuts is brilliant for those with memory leaks.
I&#8217;ve added some exta shortcuts for VIM, NERDTree and Terminator.
<a href="https://gist.github.com/jacqinthebox/7612954">Here</a> is a link to my conkyrc.</p>

<p><img src="http://jacqinthebox.github.io/images/crunch-empty.png" title="Empty" alt="crunch-empty" /></p>

<h2>Terminal emulator</h2>

<p>The default terminal is <a href="https://launchpad.net/terminator/">Terminator</a>.
Here are the most basic keybindings, copied from the <a href="http://crunchbanglinux.org/wiki/terminator">CrunchBang site</a>:</p>

<ul>
<li>Ctrl-Shift-o: Split the screen horizontally</li>
<li>Ctrl-Shift-e: Split the screen vertically</li>
<li>Ctrl-Shift-t: Open a new tab</li>
<li>Ctrl-Shift-w: Close the current terminal</li>
<li>Ctrl-Shift-q: Quit Terminator</li>
</ul>


<p>Navigation:</p>

<ul>
<li>Ctrl-Shift-n / Ctrl-Tab: Next terminal within tab</li>
<li>Ctrl-Shift-p / Ctrl-Shift-Tab: Previous terminal within tab</li>
<li>Ctrl-Pageup: Move to next tab</li>
<li>Ctrl-Pagedown: Move to previous tab</li>
<li>Shift-Pageup: Scroll back through the current terminal</li>
<li>Shift-Pagedown: Scroll forward through the current terminal</li>
</ul>


<p>I decided to change the colorscheme to Solarized from Ethan Schoonover.</p>

<p><img src="http://ethanschoonover.com/solarized/img/solarized-yinyang.png" height="217px" width="217px" /></p>

<p><a href="https://github.com/ashleyblackmore/terminator-solarized">Here</a> is the github repo with the config file for Terminator.</p>

<h2>Vim</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$sudo</span> vim /etc/vim/vimrc
</span></code></pre></td></tr></table></div></figure>


<p>And uncomment &#8216;syntax on&#8217;.</p>

<p>Next install <a href="https://github.com/tpope/vim-pathogen">Pathogen</a>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">##copy and paste this in the terminal:</span>
</span><span class='line'>
</span><span class='line'>mkdir -p ~/.vim/autoload ~/.vim/bundle; <span class="se">\</span>
</span><span class='line'>curl -Sso ~/.vim/autoload/pathogen.vim <span class="se">\</span>
</span><span class='line'>    https://raw.github.com/tpope/vim-pathogen/master/autoload/pathogen.vim
</span></code></pre></td></tr></table></div></figure>


<p>Now install <a href="http://ethanschoonover.com/">Solarized</a> for Vim:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd</span> ~/.vim/bundle
</span><span class='line'><span class="nv">$ </span>git clone git://github.com/altercation/vim-colors-solarized.git
</span></code></pre></td></tr></table></div></figure>


<p>And install <a href="https://github.com/scrooloose/nerdtree">NERDTree</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/.vim/bundle
</span><span class='line'>git clone https://github.com/scrooloose/nerdtree.git
</span></code></pre></td></tr></table></div></figure>


<p>Now go ahead and creat a .vimrc:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$vim</span> ~/.vimrc
</span></code></pre></td></tr></table></div></figure>


<p>Copy this in the .vimrc.
This will set a statusline and line numbers.
It activates pathogen and sets the colorscheme:</p>

<figure class='code'><figcaption><span>vimrc</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">set </span><span class="nv">statusline</span><span class="o">=</span>%&lt;%F%h%m%r%h%w%y<span class="se">\ </span>%<span class="o">{</span>&amp;ff<span class="o">}</span><span class="se">\ </span>%<span class="o">{</span>strftime<span class="o">(</span><span class="se">\&quot;</span>%c<span class="se">\&quot;</span>,getftime<span class="o">(</span>expand<span class="o">(</span><span class="se">\&quot;</span>%:p<span class="se">\&quot;</span><span class="o">)))}</span>%<span class="o">=</span><span class="se">\ </span>lin:%l<span class="se">\,</span>%L<span class="se">\ </span>col:%c%V<span class="se">\ </span>pos:%o<span class="se">\ </span>ascii:%b<span class="se">\ </span>%P
</span><span class='line'><span class="nb">set </span><span class="nv">laststatus</span><span class="o">=</span>2
</span><span class='line'><span class="nb">set </span>number
</span><span class='line'>execute pathogen#infect<span class="o">()</span>
</span><span class='line'>syntax <span class="nb">enable</span>
</span><span class='line'><span class="nb">set </span><span class="nv">background</span><span class="o">=</span>light
</span><span class='line'>colorscheme solarized
</span></code></pre></td></tr></table></div></figure>


<p>And the result will be this:</p>

<p><img src="http://jacqinthebox.github.io/images/vim.png" title="vim" alt="vim" /></p>

<p>You can also choose the solarized-dark, but I think the light version is easier on the eye.
Now you can go coding, be mighty productive and make lots of money. Or not.:)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[On Azure]]></title>
    <link href="http://jacqinthebox.github.io/blog/2013/09/14/on-azure/"/>
    <updated>2013-09-14T11:34:00+02:00</updated>
    <id>http://jacqinthebox.github.io/blog/2013/09/14/on-azure</id>
    <content type="html"><![CDATA[<p>I posted this from a Ubuntu box on Azure.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[NERDTree cheatsheet]]></title>
    <link href="http://jacqinthebox.github.io/blog/2013/08/04/customizing-peppermint/"/>
    <updated>2013-08-04T10:04:00+02:00</updated>
    <id>http://jacqinthebox.github.io/blog/2013/08/04/customizing-peppermint</id>
    <content type="html"><![CDATA[<p>Install VIM, Pathogen and NERDTree.</p>

<figure class='code'><figcaption><span>NERDTree</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>* o       <span class="c">#Open file or directory in the NERDTree Explorer</span>
</span><span class='line'>* t       <span class="c">#Open file in new vi tab</span>
</span><span class='line'>* i       <span class="c">#Open file in new horizontal split</span>
</span><span class='line'>* s       <span class="c">#Open file in new vertical split</span>
</span><span class='line'>* p       <span class="c">#Go to parent directory</span>
</span><span class='line'>* r       <span class="c">#Refresh current directory</span>
</span><span class='line'>* ctrl+ww <span class="c">#Switch between the NERDTree Explorer and File Buffer</span>
</span><span class='line'>
</span><span class='line'>* :NERDTree      <span class="c">#Open the NERDTree Explorer</span>
</span><span class='line'>* :NERDTreeClose <span class="c">#Close the NERDTree Explorer</span>
</span><span class='line'>* :tabp          <span class="c">#Go to previous vi tab</span>
</span><span class='line'>* :tabn          <span class="c">#Go to next vi tab</span>
</span><span class='line'>* :tabnew        <span class="c">#Open new vi tab</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ubuntu Gnome]]></title>
    <link href="http://jacqinthebox.github.io/blog/2013/05/10/hyper-v-and-ubuntu/"/>
    <updated>2013-05-10T14:04:00+02:00</updated>
    <id>http://jacqinthebox.github.io/blog/2013/05/10/hyper-v-and-ubuntu</id>
    <content type="html"><![CDATA[<p>There is a version of Ubuntu that has Gnome 3 as desktop manager. I prepared a box for updating my Octopress blog.</p>

<p>Here is how.</p>

<figure class='code'><figcaption><span>complete transcript</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#install RVM</span>
</span><span class='line'>sudo apt-get install curl
</span><span class='line'><span class="se">\c</span>url -L https://get.rvm.io | bash -s stable
</span><span class='line'><span class="nb">source</span> ~/.rvm/scripts/rvm
</span><span class='line'>rvm requirements
</span><span class='line'>rvm install 1.9.3
</span><span class='line'>rvm use 1.9.3 --default
</span><span class='line'>
</span><span class='line'><span class="c">#install rubygems and rails</span>
</span><span class='line'>rvm rubygems current
</span><span class='line'>gem install rails --no-rdoc --no-ri
</span><span class='line'>
</span><span class='line'><span class="c">#install git and heroku</span>
</span><span class='line'>sudo apt-get install git
</span><span class='line'>wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh
</span><span class='line'><span class="c">#create keys:</span>
</span><span class='line'>ssh-keygen -t rsa
</span><span class='line'>heroku keys:add
</span><span class='line'>heroku login
</span><span class='line'>
</span><span class='line'><span class="c">#clone the Octopress site from Heroku (or a new one from the Octopress site)</span>
</span><span class='line'>git clone git@heroku.com:enig-savan-2778.git
</span><span class='line'>gem install bundler
</span><span class='line'>sudo apt-get install rbenv
</span><span class='line'>rbenv rehash
</span><span class='line'>bundle install
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c">#install Sublime Text</span>
</span><span class='line'>sudo add-apt-repository ppa:webupd8team/sublime-text-2
</span><span class='line'>sudo apt-get install sublime-text-2
</span><span class='line'>
</span><span class='line'><span class="c">#add your info to Git</span>
</span><span class='line'>git config --global user.name <span class="s2">&quot;Jacqueline&quot;</span>
</span><span class='line'>git config --global user.email <span class="s2">&quot;jacqueline@linux02&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>By the way, install 1.9.3 wit RVM doesn&#8217;t work with Debian Jessie (yet, however 2.0.0 works fine).If you are like me and you don&#8217;t do Rails development, you can install the Octopress requisites on Jessie like so:</p>

<figure class='code'><figcaption><span>complete transcript</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sudo apt-get install ruby ruby-dev rbenv
</span><span class='line'>sudo gem install bundler
</span></code></pre></td></tr></table></div></figure>


<p>So, in this case  it is actually convenient that Debian never uses the latest version of sofware.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Peppermint OS]]></title>
    <link href="http://jacqinthebox.github.io/blog/2013/05/05/peppermint-os/"/>
    <updated>2013-05-05T11:03:00+02:00</updated>
    <id>http://jacqinthebox.github.io/blog/2013/05/05/peppermint-os</id>
    <content type="html"><![CDATA[<p><a href="http://peppermintos.com">Peppermint OS</a> is a minimal Linux distribution based on Ubuntu. Its desktop manager is OpenBox. So why did I choose this distribution? Well, it is the only one that does not crash in Vmware Workstation 9 on Windows 8.</p>

<p><img src="http://wiki.lxde.org/en/images/3/36/Peppermint_logo.png" alt="Peppermint logo" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Add more computers to blog from with Octopress and Heroku]]></title>
    <link href="http://jacqinthebox.github.io/blog/2013/05/03/add-more-computers-to-blog-from/"/>
    <updated>2013-05-03T19:22:00+02:00</updated>
    <id>http://jacqinthebox.github.io/blog/2013/05/03/add-more-computers-to-blog-from</id>
    <content type="html"><![CDATA[<p>Here is how to add more computers to blog from with Heroku and Octopress.</p>

<p>On computer 2 (assumes Rails and all dependencies are installed):</p>

<p>First clone your Octopress site. Then cd into the clone, generate, commit and push.</p>

<figure class='code'><figcaption><span>clone your blog from heroku</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git clone git@heroku.com:lazy-turtle-2778.git
</span><span class='line'><span class="nb">cd </span>lazy-turtle-2778
</span><span class='line'>rake generate
</span><span class='line'>git add .
</span><span class='line'>git commit -m <span class="s1">&#39;testing from 2nd computer&#39;</span>
</span><span class='line'>git push origin master
</span></code></pre></td></tr></table></div></figure>


<p>Now you can manage your Octopress blog from computer 2.</p>

<p>The next day you want to add a post from computer 1.
On computer 1, check the name of the remote repository:</p>

<figure class='code'><figcaption><span>check name of remote repository</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>jacqueline@oude-laptop:~/Desktop/code/octopress<span class="nv">$ </span>git remote -v
</span><span class='line'>heroku    git@heroku.com:lazy-turtle-2778.git <span class="o">(</span>fetch<span class="o">)</span>
</span><span class='line'>heroku    git@heroku.com:lazy-turtle-2778.git <span class="o">(</span>push<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now you need to fetch the files from the heroku repo and merge them.</p>

<figure class='code'><figcaption><span>fetch and merge</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>jacqueline@oude-laptop:~/Desktop/code/octopress<span class="nv">$ </span>git fetch heroku
</span><span class='line'>jacqueline@oude-laptop:~/Desktop/code/octopress<span class="nv">$ </span>git merge heroku/master
</span></code></pre></td></tr></table></div></figure>


<p>And all is set to manage your blog from computer 1.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Disclaimer voor nieuw weblog]]></title>
    <link href="http://jacqinthebox.github.io/blog/2013/05/02/werkelijk-nog-geen-enkel-idee-hoe-dit-werkt/"/>
    <updated>2013-05-02T21:04:00+02:00</updated>
    <id>http://jacqinthebox.github.io/blog/2013/05/02/werkelijk-nog-geen-enkel-idee-hoe-dit-werkt</id>
    <content type="html"><![CDATA[<p>Mijn weblog werd voorheen gehost door <a href="http://posterous.com/">Posterous</a>, maar deze dienst is opgehouden te bestaan. Helaas. Wat nu? De zoekmachine bracht mij bij <a href="http://octopress.org/">Octopress</a>.</p>

<p><img src="http://www.peterprovost.org/images/blog/2012-04-15-switching-the-blog-to-octopress/octopress-logo.png" alt="Octopress logo" /></p>

<p>Octopress heet niet voor niets &#8216;a blogging framework for hackers&#8217;. Om te beginnen is het noodzakelijk dat je <a href="http://rubyonrails.org/">Ruby on Rails</a> op je machine hebt draaien. Vervolgens kun de site met <a href="https://github.com/">Git</a> publishen naar <a href="httpd://www.heroku.com/">Heroku</a>, maar dit kan ook naar Dropbox of Github zelf.</p>

<p>Daarna is het een kwestie van.. editen van tekstbestanden, zoals ik nu deze post zit te kloppen in <a href="http://www.sublimetext.com">Sublime Text</a> in <a href="http://daringfireball.net/projects/markdown/">Markdown</a>.</p>

<p>Helaas is het alleen maar mogelijk te posten vanaf deze laptop. Dat is wel minder, even vanaf een andere werkplek een update schrijven zit er dus niet in.</p>

<p>Last but not least: ik heb de layout gebruikt van <a href="https://github.com/bijumon/oct2">oct2</a>. Design is namelijk niet mijn sterkste kant.</p>

<p>Kortom, zonder al deze resources zou je nu dit weblog niet aan het lezen zijn.
Ik zeg dan ook: &#8220;Hulde aan ieder dit mogelijk heeft gemaakt en driewerf hoera voor Open Source.&#8221;</p>

<p>En dat allemaal op deze <a href="http://taalprof.blogspot.nl/2013/04/de-zin-die-we-vermoeden-dat-fout-is.html/">dag die ik wist dat zou komen</a>.</p>
]]></content>
  </entry>
  
</feed>
